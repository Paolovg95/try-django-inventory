<form action="." method="POST" hx-post="." hx-swap="outerHTML" hx-trigger="{% if form.instance.id %}change delay:500ms, submit {% endif %}">
  {% csrf_token %}
  {% if message %}
    <p>{{ message }}</p>
  {% endif %}
  {% for field in form %}
  <div class="{% if field.field.required %}{{ form.required_css_class }}{% endif %}">
    {{ field }}
    {% if field.help_text %}
    <span class="help-text">{{ field.help_text|safe }}</span>
    {% endif %}
  </div>
  {% endfor %}
    <div class='htmx-indicator'>Loading...</div>
    <button class="htmx-inverted-indicator" type="submit">Save</button>
    {% if message %}
      <p>{{ message }}</p>
    {% endif %}
</form>
